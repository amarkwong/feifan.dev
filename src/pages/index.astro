---
import Layout from '../layouts/Layout.astro';
import ExperienceTimeline from '../components/ExperienceTimeline.astro';

const experience = [
  {
    company: 'Flight Centre',
    role: 'Front-End Engineer',
    period: '2024 — Present',
    year: '2024',
    summary:
      'Leading the rebuild of booking flows with Astro islands and edge rendering, cutting TTFB by 35% while keeping accessibility pristine.',
  technologies: ['Astro', 'React', 'Tailwind', 'Edge Functions'],
    projects: [
      {
        name: 'Trips Booking OS',
        description: 'Modular booking portal that merges flights + hotels into a single quoteable flow with real-time fare validation.',
      },
      {
        name: 'Loyalty Compass',
        description: 'Dashboard that surfaces live loyalty inventory and upsell nudges across 40+ markets.',
      },
    ],
  },
  {
    company: 'Acme Corp',
    role: 'Full-Stack Developer',
    period: '2022 — 2024',
    year: '2022',
    summary:
      'Shipped internal tooling for 500+ operators, modernizing a legacy stack into type-safe services and reusable UI primitives.',
  technologies: ['Next.js', 'Node.js', 'Postgres', 'AWS'],
    projects: [
      {
        name: 'Ops Control Tower',
        description: 'Multi-tenant workflow tool with fine-grained permissions, 8x faster ticket triage, and live SLA tracking.',
      },
      {
        name: 'Signals API',
        description: 'Event-driven analytics pipeline exposing customer health signals to downstream tooling.',
      },
    ],
  },
  {
    company: 'Independent',
    role: 'Product Engineer',
    period: '2018 — 2022',
    year: '2018',
    summary:
      'Partnered with startups to design and build minimal web experiences—from analytics dashboards to rapid landing-page experiments.',
  technologies: ['Astro', 'Remix', 'Cloudflare', 'Design Systems'],
    projects: [
      {
        name: 'Astro Portfolio',
        description: 'This minimalist site built to test drive Astro content collections, MDX, and edge-friendly deployment.',
        href: 'https://github.com/feifan/astro-portfolio',
      },
      {
        name: 'Map Extension',
        description: 'Chrome extension overlaying saved routes and commute insights directly onto Google Maps.',
        href: 'https://github.com/feifan/map-extension',
      },
    ],
  },
];
---

<Layout title="feifan.dev">
  <header class="hero glass-panel">
    <span class="chip">Currently building for the web</span>
    <h1>Feifan crafts calm, high-impact digital experiences.</h1>
    <p>
      Front-of-the-frontend engineer obsessed with razor-sharp performance, thoughtful motion,
      and joyful tooling. I distill complex systems into focused, human interfaces.
    </p>
    <div class="hero-links">
      <a class="hero-cta" href="#experience">View experience timeline</a>
      <a class="hero-secondary" href="/thoughts">Visit the thoughts hub</a>
      <a class="hero-secondary" href="mailto:hi@feifan.dev">Get in touch</a>
    </div>
  </header>

  <section id="about">
    <h2>About</h2>
    <p>
      Hi, I’m Feifan—a software engineer passionate about minimal, performant web
      experiences. I build, I learn, I share.
      Long-form notes now live on <a href="/thoughts">the Thoughts page</a> for folks who want to dive deeper.
    </p>
  </section>

  <section id="experience">
    <h2>Experience</h2>
    <ExperienceTimeline items={experience} />
  </section>

</Layout>

<style>
  .hero {
    padding: 3rem;
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
    background: none;
    border: 1px solid var(--panel-border);
  }

  .hero h1 {
    font-size: clamp(2.5rem, 4vw, 3.5rem);
    margin: 0;
    line-height: 1.1;
    color: var(--text-primary);
  }

  .hero p {
    font-size: 1.15rem;
    margin: 0;
    color: var(--text-muted);
  }

  .hero-links {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .hero-cta,
  .hero-secondary {
    text-decoration: none;
    padding: 0.85rem 1.5rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 1rem;
    transition: transform 0.2s ease, background 0.2s ease, color 0.2s ease;
  }

  .hero-cta {
    background: var(--accent);
    color: #fff;
  }

  .hero-secondary {
    border: 1px solid var(--panel-border);
    color: var(--text-primary);
  }

  .hero-cta:hover,
  .hero-cta:focus-visible,
  .hero-secondary:hover,
  .hero-secondary:focus-visible {
    transform: translateY(-2px);
  }

  @media (max-width: 720px) {
    .hero {
      padding: 2.25rem;
    }
  }
</style>